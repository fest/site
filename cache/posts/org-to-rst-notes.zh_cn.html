<p>I’m using <tt class="docutils literal">Nikola</tt> for site generating, which supports various types
of input formats: <tt class="docutils literal">.rst</tt> natively, <tt class="docutils literal">.md</tt> partially, <tt class="docutils literal">.org</tt> via
<tt class="docutils literal">orgmode</tt> plug-in, .., etc. No one seems perfect for me:</p>
<!-- TEASER_END -->
<ul class="simple">
<li><tt class="docutils literal">.rst</tt> worse readability than other two, also has the worst syntax
among the three for writing too</li>
<li><tt class="docutils literal">.md</tt> easy to use but there are no <strong>standard</strong> rules to follow:
different parsers deliver different (even inconsistent) rendering
styles</li>
<li><tt class="docutils literal">.org</tt> uniform standard and easy to write, but no perfect parser
exists. Also it is bound to <tt class="docutils literal">Emacs</tt>, which makes it not handful
sometimes.</li>
</ul>
<p>Before deciding to use <tt class="docutils literal">.rst</tt> as my primary format for <tt class="docutils literal">Nikola</tt>, I
tried several ways:</p>
<ol class="arabic">
<li><p class="first">Use <tt class="docutils literal">.md</tt></p>
<p>Since I’m used to editing markdown files in <tt class="docutils literal">Atom</tt>, which is more
lightweight than <tt class="docutils literal">Emacs</tt> IMO. What makes me annoyed is that the
rendering styles from <tt class="docutils literal">Atom</tt> and <tt class="docutils literal">Nikolas</tt> are not the same,
especially when it comes to code blocks within lists. Following
<a class="reference external" href="https://daringfireball.net/projects/markdown/syntax">this</a>, it
says markdown supports multiple paragraphs inside list items:</p>
<blockquote>
<p>List items may consist of multiple paragraphs. Each subsequent
paragraph in a list item must be indented by either 4 spaces or
one tab:</p>
<ol class="arabic">
<li><p class="first">This is a list item with two paragraphs. Lorem ipsum dolor sit
amet, consectetuer adipiscing elit. Aliquam hendrerit mi
posuere lectus.</p>
<p>Vestibulum enim wisi, viverra nec, fringilla in, laoreet
vitae, risus. Donec sit amet nisl. Aliquam semper ipsum sit
amet velit.</p>
</li>
<li><p class="first">Suspendisse id sem consectetuer libero luctus adipiscing.</p>
</li>
</ol>
</blockquote>
<p>There are two issues:</p>
<ol class="arabic simple">
<li>Code blocks are not recognized anymore if you put indented code
blocks after list items. Instead, they are treated as block quotes
by <tt class="docutils literal">Nikola</tt>. Thus no syntax highlight for these blocks, and even
worse, the source code in the blocks is concatenated without any
line breaks.</li>
<li>If you put an indented paragraph after an indented code block, the
texts in the paragraph are also transformed into block quotes.</li>
</ol>
<p>IMO, this is due to Markdown’s bad design or non-uniform standards of
different parsers (or bugs). Because sometimes texts after 4
successive blank spaces are directly treated as block quotes or code
blocks. This makes it ambiguous to separate them from paragraphs in
lists, and things become more tricky if you have a nested list.</p>
<p>But for <tt class="docutils literal">.org</tt> format, the rule is clear: just align your contents
with the list they belong to, no matter what style of your contents
are: they can be plain texts or even code blocks.</p>
</li>
<li><p class="first">Use <tt class="docutils literal">.org</tt></p>
<p>It seems reasonable to use <tt class="docutils literal">.org</tt> files for web page generating
thanks to the <tt class="docutils literal">orgmode</tt> plug-in provided by <tt class="docutils literal">Nikola</tt>. It seems a
promising solution, but wait! Once you picked a nice theme, and built
your site, you found there might have a lot of things to tweak: You
need to add <tt class="docutils literal">.css</tt> files to your theme for code highlighting to
make your site look pleasing. Also you need to be careful with the
special syntax used by <tt class="docutils literal"><span class="pre">org-mode</span></tt> of <tt class="docutils literal">Emacs</tt>. I found there are a
lot of weird errors on the published web page using the <tt class="docutils literal">orgmode</tt>
plug-in. Anyway, it works but brings you lots of troubles if you are
careless. Also, the plug-in works by calling the publish related
functions of <tt class="docutils literal">Emacs</tt>, which makes it slower if you are holding a
large website.</p>
</li>
<li><p class="first">Use <tt class="docutils literal">.rst</tt></p>
<p>Yeah, finally it comes to the natively supported format. At first I
am quite reluctant to choose this option because I don’t want to
learn a new markup language since I have known <tt class="docutils literal">Markdown</tt> and
<tt class="docutils literal"><span class="pre">Org-mode</span></tt>. But later on, I found a workaround: I edit all the
stuff within <tt class="docutils literal">Emacs</tt> using <tt class="docutils literal">.org</tt> format, and use <tt class="docutils literal">Pandoc</tt> to
convert all the <tt class="docutils literal">.org</tt> files to <tt class="docutils literal">.rst</tt> files for web page
generation. At the beginning, I was wondering whether <tt class="docutils literal">Pandoc</tt> will
give me satisfactory results – it turns out not that bad, though not
perfect. I believe this can be attributed to the unified standards of
both <tt class="docutils literal">.org</tt> and <tt class="docutils literal">.rst</tt> formats, which make the parser less
error-prone. Overall, the converted file have few errors from my own
experience. Also by writing a simple script, I can convert all
existing files to <tt class="docutils literal">.rst</tt> files with <tt class="docutils literal">Pandoc</tt> in batch. Thus I
don’t need to worry the formats when I’m writing in <tt class="docutils literal"><span class="pre">org-mode</span></tt> from
now on.</p>
</li>
</ol>
<p>Several points to note after converting:</p>
<ul class="simple">
<li>Images in <tt class="docutils literal">.org</tt> files are like <tt class="docutils literal">./images/pic.png</tt>, while in
resulted <tt class="docutils literal">.rst</tt> files you need to change them to
<tt class="docutils literal">/images/pic.png</tt> manually.</li>
<li>Literal examples (<tt class="docutils literal">BEGIN_EXAMPE</tt>) in <tt class="docutils literal">.org</tt> files are converted
to <tt class="docutils literal">.. code:: example</tt>, which cannot be recognized by <tt class="docutils literal">Pygments</tt>.
So just change them to <tt class="docutils literal">.. code::</tt> manually.</li>
</ul>
