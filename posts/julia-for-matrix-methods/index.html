<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Julia for Matrix Methods | Home</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://yongchen.org/posts/julia-for-matrix-methods/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Yong Chen">
<link rel="prev" href="../reStructuredText-notes/" title="reStructuredText Notes" type="text/html">
<link rel="next" href="../julia-packages/" title="Julia Packages" type="text/html">
<meta property="og:site_name" content="Home">
<meta property="og:title" content="Julia for Matrix Methods">
<meta property="og:url" content="http://yongchen.org/posts/julia-for-matrix-methods/">
<meta property="og:description" content="Contents

1   Introduction
1.1   Basic arithmetric &amp; mathematical functions
1.1.1   更高精度


1.2   Tuples
1.3   Ranges
1.4   Lists


2   Vectors
2.1   Vectors
2.2   Vector operations
2.3   Norm and dist">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-03-01T13:59:43+08:00">
<meta property="article:tag" content="julia">
<meta property="article:tag" content="mathjax">
<meta property="article:tag" content="tutorial">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://yongchen.org/">

                <span id="blog-title">Home</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../">Posts</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../notes/index.html">Notes</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../rss.xml">RSS</a>
                </li>
<li>
<a href="../../about/index.html">About</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Julia for Matrix Methods</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    <a href="../../authors/yong-chen/">Yong Chen</a>
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2017-03-01T13:59:43+08:00" itemprop="datePublished" title="2017-03-01 13:59">2017-03-01 13:59</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/julia-for-matrix-methods.html">Comments</a>


            

        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="auto-toc simple">
<li>
<a class="reference internal" href="#introduction" id="id10">1   Introduction</a><ul class="auto-toc">
<li>
<a class="reference internal" href="#basic-arithmetric-mathematical-functions" id="id11">1.1   Basic arithmetric &amp; mathematical functions</a><ul class="auto-toc">
<li><a class="reference internal" href="#id1" id="id12">1.1.1   更高精度</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tuples" id="id13">1.2   Tuples</a></li>
<li><a class="reference internal" href="#ranges" id="id14">1.3   Ranges</a></li>
<li><a class="reference internal" href="#lists" id="id15">1.4   Lists</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#vectors" id="id16">2   Vectors</a><ul class="auto-toc">
<li><a class="reference internal" href="#id2" id="id17">2.1   Vectors</a></li>
<li><a class="reference internal" href="#vector-operations" id="id18">2.2   Vector operations</a></li>
<li><a class="reference internal" href="#norm-and-distance" id="id19">2.3   Norm and distance</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#matrices" id="id20">3   Matrices</a><ul class="auto-toc">
<li><a class="reference internal" href="#matrics" id="id21">3.1   Matrics</a></li>
<li><a class="reference internal" href="#matrix-operations" id="id22">3.2   Matrix operations</a></li>
<li><a class="reference internal" href="#useful-functions" id="id23">3.3   Useful functions</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#tricks" id="id24">4   Tricks</a><ul class="auto-toc">
<li><a class="reference internal" href="#for-loops" id="id25">4.1   For loops</a></li>
<li>
<a class="reference internal" href="#initialization" id="id26">4.2   Initialization</a><ul class="auto-toc">
<li><a class="reference internal" href="#data-types" id="id27">4.2.1   Data types</a></li>
<li><a class="reference internal" href="#empty-array" id="id28">4.2.2   Empty array</a></li>
<li><a class="reference internal" href="#allocate-array-no-initialization" id="id29">4.2.3   Allocate array (no initialization)</a></li>
<li><a class="reference internal" href="#initialize-a-matrix" id="id30">4.2.4   Initialize a matrix</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#id3" id="id31">4.3   Useful functions</a><ul class="auto-toc">
<li><a class="reference internal" href="#id4" id="id32">4.3.1   基本信息</a></li>
<li><a class="reference internal" href="#id5" id="id33">4.3.2   最大(小)值，以及求和</a></li>
<li><a class="reference internal" href="#id6" id="id34">4.3.3   查找，筛选</a></li>
<li><a class="reference internal" href="#id7" id="id35">4.3.4   删除行或列</a></li>
<li><a class="reference internal" href="#joining-arrays-and-matrices" id="id36">4.3.5   Joining arrays and matrices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#array-of-arrays" id="id37">4.4   Array of arrays</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#performance" id="id38">5   Performance</a><ul class="auto-toc">
<li><a class="reference internal" href="#list-comprehension-vs-for-loop-vs-map" id="id39">5.1   List comprehension vs <tt class="docutils literal">for</tt> loop vs <tt class="docutils literal">map</tt></a></li>
<li><a class="reference internal" href="#findlast-faster-than-count" id="id40">5.2   <tt class="docutils literal">findlast</tt> faster than <tt class="docutils literal">count</tt></a></li>
<li><a class="reference internal" href="#id9" id="id41">5.3   关于求最值</a></li>
</ul>
</li>
</ul>
</div>
<!-- TEASER_END -->
<div class="admonition admonition-references alert alert-info pull-right">
<p class="first admonition-title">References:</p>
<ul class="last simple">
<li><a class="reference external" href="http://stanford.edu/class/ee103/julia.html">Introduction to Matrix Methods</a></li>
<li><a class="reference external" href="http://docs.julialang.org/en/stable/manual/performance-tips/">Performance Tips</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id10">1   Introduction</a></h2>
<div class="section" id="basic-arithmetric-mathematical-functions">
<h3><a class="toc-backref" href="#id11">1.1   Basic arithmetric &amp; mathematical functions</a></h3>
<ul>
<li>
<p class="first"><tt class="docutils literal">+</tt>, <tt class="docutils literal">-</tt>, <tt class="docutils literal">*</tt>, <tt class="docutils literal">/</tt>, <tt class="docutils literal">^</tt> (exponentiate), ...</p>
</li>
<li>
<p class="first"><tt class="docutils literal">true</tt>, <tt class="docutils literal">false</tt>, <tt class="docutils literal">+=</tt>, <tt class="docutils literal">!=</tt>, <tt class="docutils literal">&lt;</tt>, <tt class="docutils literal">&gt;</tt>, <tt class="docutils literal">&lt;=</tt>, <tt class="docutils literal">&gt;==</tt>, <tt class="docutils literal">!(value == 4)</tt>, ...</p>
</li>
<li>
<p class="first"><tt class="docutils literal">im</tt> (imaginary unit), <tt class="docutils literal">pi</tt>, <tt class="docutils literal">e</tt>, <tt class="docutils literal">golden</tt>, ...</p>
</li>
<li>
<p class="first"><tt class="docutils literal">exp</tt>, <tt class="docutils literal">sqrt</tt>, <tt class="docutils literal">sin</tt>, <tt class="docutils literal">rand()</tt>, ...</p>
</li>
<li>
<p class="first"><tt class="docutils literal">typeof(x)</tt>, <tt class="docutils literal">println(23)</tt>, <tt class="docutils literal">quit()</tt>, <tt class="docutils literal">methods(sin)</tt>, ...</p>
</li>
<li>
<p class="first">assign multiple variables (return type: Tuple): <tt class="docutils literal">a,b=5,3</tt></p>
<p>Swap two variables: <tt class="docutils literal">a,b=b,a</tt></p>
</li>
<li>
<p class="first">convert float to int: <tt class="docutils literal">Int64(3.0)</tt> 相当于 <tt class="docutils literal">convert(Int64, 3.0</tt>), <tt class="docutils literal">ceil(Int64, 2.5)</tt>, <tt class="docutils literal">round(Int64, 2.5)</tt>, <tt class="docutils literal">floor(Int64, 2.5)</tt></p>
</li>
</ul>
<div class="section" id="id1">
<h4><a class="toc-backref" href="#id12">1.1.1   更高精度</a></h4>
<p>对于 Float64 类型，其机器精度 machine epsilon 为 <tt class="docutils literal">eps(Float64) = <span class="pre">2.220446049250313e-16</span></tt>, 其精度 precision 是 <tt class="docutils literal">precision(Float64) = 53</tt>.
需要更高精度运算的话，可使用 Julia 自带的 BigFloat 类型或使用第三方 package, 如 "DecFP.jl", "ArbFloats.jl", "DoubleDouble.jl", "DEQuadrature.jl".</p>
</div>
</div>
<div class="section" id="tuples">
<h3><a class="toc-backref" href="#id13">1.2   Tuples</a></h3>
<p>Tuples act like "immutable" arrays.</p>
<ul>
<li>
<p class="first">unpack a tuple:</p>
<pre class="code jlcon"><a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-1"></a><span class="gp">julia&gt;</span> <span class="n">word1</span><span class="p">,</span> <span class="n">word2</span> <span class="o">=</span> <span class="p">(</span><span class="s">"foo"</span><span class="p">,</span> <span class="s">"bar"</span><span class="p">)</span>
<a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-2"></a><span class="go">("foo","bar")</span>
<a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-3"></a>
<a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-4"></a><span class="gp">julia&gt;</span> <span class="n">word1</span>
<a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-5"></a><span class="go">"foo"</span>
<a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-6"></a>
<a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-7"></a><span class="gp">julia&gt;</span> <span class="n">word2</span>
<a name="rest_code_a0154d0400f44ceca0d2328194f86ac1-8"></a><span class="go">"bar"</span>
</pre>
</li>
<li>
<p class="first"><tt class="docutils literal">collect</tt>: convert tuple to array</p>
</li>
<li>
<p class="first">tuples as function arguments: unpack it use an ellipsis <tt class="docutils literal"><span class="pre">f((1,</span> 2, <span class="pre">3)...)</span></tt> (Refer to <a class="reference external" href="http://julia.readthedocs.org/en/latest/manual/functions/#varargs-functions">Varargs Functions</a>)
注：之前的版本还可以使用 <tt class="docutils literal">apply</tt> 函数，现在该函数已被 Julia 作废。</p>
<pre class="code jlcon"><a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-1"></a><span class="gp">julia&gt;</span> <span class="n">g</span><span class="p">()</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-2"></a><span class="go">g (generic function with 1 method)</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-3"></a>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-4"></a><span class="gp">julia&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="o">=</span> <span class="o">+</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-5"></a><span class="go">f (generic function with 1 method)</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-6"></a>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-7"></a><span class="gp">julia&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">())</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-8"></a><span class="go">ERROR: MethodError: `f` has no method matching f(::Tuple{Int64,Int64</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-9"></a><span class="go">,Int64})</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-10"></a><span class="go">Closest candidates are:</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-11"></a><span class="go">  f(::Any, ::Any, ::Any)</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-12"></a>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-13"></a><span class="gp">julia&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">()</span><span class="o">...</span><span class="p">)</span>
<a name="rest_code_b54fb53e74eb43c2ab5752b2481c397f-14"></a><span class="go">6</span>
</pre>
</li>
</ul>
</div>
<div class="section" id="ranges">
<h3><a class="toc-backref" href="#id14">1.3   Ranges</a></h3>
<ul class="simple">
<li>
<tt class="docutils literal">1:5</tt>, <tt class="docutils literal">0.0:0.1:10.0</tt>, <tt class="docutils literal">linspace(0.0,10.0,11)</tt>
</li>
<li>convert <strong>Range</strong> to <strong>Array</strong>: <tt class="docutils literal">collect(1:5)</tt> or simply use <tt class="docutils literal">[1:5]</tt> (<tt class="docutils literal">collect</tt> is much faster)</li>
</ul>
</div>
<div class="section" id="lists">
<h3><a class="toc-backref" href="#id15">1.4   Lists</a></h3>
<p>List is one-dimensional array.</p>
<ul class="simple">
<li>create: <tt class="docutils literal">my_list = ["a", 1, <span class="pre">-0.76]</span></tt>
</li>
<li>access: <tt class="docutils literal">m_list[2]</tt>, <tt class="docutils literal">my_list[end]</tt>, <tt class="docutils literal"><span class="pre">my_list[end-1]</span></tt>
</li>
<li>length: <tt class="docutils literal">length(my_list)</tt>
</li>
</ul>
</div>
</div>
<div class="section" id="vectors">
<h2><a class="toc-backref" href="#id16">2   Vectors</a></h2>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id17">2.1   Vectors</a></h3>
<ul>
<li>
<p class="first">create: <tt class="docutils literal"><span class="pre">x=[8,-4,3.5]</span></tt> or <tt class="docutils literal"><span class="pre">x=[8;-4;3.5]</span></tt></p>
<div class="math">
\begin{equation*}
\boldsymbol{x}=\left(
\begin{array}{c}
8\\
-4\\
3.5
\end{array}
\right)
\end{equation*}
</div>
</li>
<li>
<p class="first">index: <tt class="docutils literal">x[2]</tt>, <tt class="docutils literal">x[2:3]</tt>, <tt class="docutils literal">x[end]</tt>, <tt class="docutils literal">x[1:2:end]</tt></p>
</li>
<li>
<p class="first">block vectors</p>
<p>stacked vector: <tt class="docutils literal"><span class="pre">a=[b;c]</span></tt> (Note: Both <span class="math">\(\boldsymbol{b}\)</span> and <span class="math">\(\boldsymbol{c}\)</span> are vectors, so <tt class="docutils literal"><span class="pre">a=[b,c]</span></tt> does NOT work).</p>
<div class="math">
\begin{equation*}
\boldsymbol{a}=\left(
\begin{array}{c}
\boldsymbol{b}\\
\boldsymbol{c}
\end{array}
\right)
\end{equation*}
</div>
</li>
<li>
<p class="first">mix vectors with scalars: <tt class="docutils literal"><span class="pre">a=[b;</span> 2; c; <span class="pre">-6]</span></tt></p>
</li>
<li>
<p class="first">list with vectors <span class="math">\(\boldsymbol{a},\boldsymbol{b},\boldsymbol{c}\)</span>: <tt class="docutils literal"><span class="pre">vector_list=[a,b,c]</span></tt></p>
<ul class="simple">
<li>second vector in this list: <tt class="docutils literal">vector_list[2]</tt>
</li>
<li>access an element in a vector: <tt class="docutils literal"><span class="pre">vector_list[2][3]</span></tt>
</li>
</ul>
</li>
<li>
<p class="first">Basic functions for arrays:</p>
<ul class="simple">
<li>sum of a vector: <tt class="docutils literal">sum(x)</tt>
</li>
<li>mean of the entries: <tt class="docutils literal">mean(x)</tt>
</li>
<li>
<span class="math">\(\boldsymbol{0}_n\)</span> (vector with all entries 0): <tt class="docutils literal">zeros(n)</tt>
</li>
<li>
<span class="math">\(\boldsymbol{1}_n\)</span> (vector with all entries 1): <tt class="docutils literal">ones(n)</tt>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="vector-operations">
<h3><a class="toc-backref" href="#id18">2.2   Vector operations</a></h3>
<ul>
<li>
<p class="first">vector addition and subtraction (the arrays must have the same length): <tt class="docutils literal">+</tt>, <tt class="docutils literal">-</tt></p>
</li>
<li>
<p class="first">scalar-vector addition: <tt class="docutils literal"><span class="pre">[2,4,8]+3</span></tt></p>
<div class="math">
\begin{equation*}
\left(
\begin{array}{c}
2\\
4\\
8\\
\end{array}
\right)
+ 3 =
\left(
\begin{array}{c}
5\\
7\\
11\\
\end{array}
\right)
\end{equation*}
</div>
</li>
<li>
<p class="first">scalar-vector multiplication: <tt class="docutils literal"><span class="pre">-2*[1,9,6]</span></tt> or <tt class="docutils literal"><span class="pre">[1,9,6]*(-2)</span></tt></p>
<div class="math">
\begin{equation*}
-2\,
\left(
\begin{array}{c}
1\\
9\\
6\\
\end{array}
\right)
=
\left(
\begin{array}{c}
-2\\
-18\\
-12\\
\end{array}
\right)
\end{equation*}
</div>
</li>
<li>
<p class="first">inner product <span class="math">\(\boldsymbol{a}^T\boldsymbol{b}\)</span>: <tt class="docutils literal">dot(a,b)</tt> (<span class="math">\(\boldsymbol{a}\)</span> and <span class="math">\(\boldsymbol{b}\)</span> must have the same length)</p>
</li>
<li>
<p class="first">vector-vector element-wise operation: <tt class="docutils literal"><span class="pre">[2,4].*[10,20]</span></tt></p>
</li>
</ul>
</div>
<div class="section" id="norm-and-distance">
<h3><a class="toc-backref" href="#id19">2.3   Norm and distance</a></h3>
<ul>
<li>
<p class="first"><tt class="docutils literal">norm(x)</tt></p>
<div class="math">
\begin{equation*}
\left\|\boldsymbol{x}\right\|=\sqrt{x_1^2+x_2^2+\dots+x_n^2}
\end{equation*}
</div>
</li>
<li>
<p class="first"><tt class="docutils literal"><span class="pre">norm(x-y)</span></tt></p>
<div class="math">
\begin{equation*}
\left\|\boldsymbol{x}-\boldsymbol{y}\right\|
\end{equation*}
</div>
</li>
<li>
<p class="first">root mean square: <tt class="docutils literal">rms(x)</tt></p>
<div class="math">
\begin{equation*}
\boldsymbol{x}_{\text{rms}}=\sqrt{\frac{1}{n}\left(x_1^2+x_2^2+\dots+x_n^2\right)}=\frac{\left\|\boldsymbol{x}\right\|}{\sqrt{n}}
\end{equation*}
</div>
</li>
<li>
<p class="first">angle between vectors: <tt class="docutils literal">angle_a_b = <span class="pre">acos(dot(a,b)/(norm(a)*norm(b)))</span></tt></p>
<div class="math">
\begin{equation*}
\angle (\boldsymbol{a},\boldsymbol{b})=\arccos \left(\frac{\boldsymbol{a}^T\boldsymbol{b}}{\left\|\boldsymbol{a}\right\|\left\|\boldsymbol{b}\right\|} \right)
\end{equation*}
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="matrices">
<h2><a class="toc-backref" href="#id20">3   Matrices</a></h2>
<div class="section" id="matrics">
<h3><a class="toc-backref" href="#id21">3.1   Matrics</a></h3>
<p>Matrices are 2D or higher dimensional arrays.</p>
<ul>
<li>
<p class="first">spaces separate entries in a row; semicolons separate individual rows: <tt class="docutils literal"><span class="pre">A=[2</span> <span class="pre">-4</span> 8.2; <span class="pre">-5.5</span> 3.5 63]</tt></p>
<div class="math">
\begin{equation*}
\boldsymbol{A}=
\left(
\begin{array}{ccc}
2 &amp; -4 &amp; 8.2\\
-5.5 &amp; 3.5 &amp; 63\\
\end{array}
\right)
\end{equation*}
</div>
</li>
<li>
<p class="first"><tt class="docutils literal">A_rows, A_cols = size(A)</tt>: returns the tuple containing the dimensions of <span class="math">\(\boldsymbol{A}\)</span>. (<tt class="docutils literal">A_rows</tt> is <tt class="docutils literal"><span class="pre">size(A)[1]</span></tt>, <tt class="docutils literal">A_cols</tt> is <tt class="docutils literal"><span class="pre">size(A)[2]</span></tt>).</p>
</li>
<li>
<p class="first">block matrix: <tt class="docutils literal"><span class="pre">X=[A</span> B; C D]</tt> (<span class="math">\(\boldsymbol{A}, \boldsymbol{B}, \boldsymbol{C}\)</span> and <span class="math">\(\boldsymbol{D}\)</span> are matrices)</p>
<div class="math">
\begin{equation*}
\boldsymbol{X}=
\left(
\begin{array}{ccc}
\boldsymbol{A} &amp; \boldsymbol{B}\\
\boldsymbol{C} &amp; \boldsymbol{D}\\
\end{array}
\right)
\end{equation*}
</div>
</li>
<li>
<p class="first">useful matrices:</p>
<ul class="simple">
<li>
<span class="math">\(\boldsymbol{0}_{m \times n}\)</span> (vector with all entries <span class="math">\(0\)</span>): <tt class="docutils literal">zeros(m,n)</tt>
</li>
<li>
<span class="math">\(\boldsymbol{1}_{m \times n}\)</span> (vector with all entries <span class="math">\(1\)</span>): <tt class="docutils literal">ones(m,n)</tt>
</li>
<li>
<span class="math">\(\boldsymbol{I}_{n}\)</span> (identity matrix of dimension <span class="math">\(n\)</span>): <tt class="docutils literal">eye(n)</tt>
</li>
<li>
<span class="math">\(\text{diag}(\boldsymbol{x})\)</span> (diagonal matrix, <span class="math">\(\boldsymbol{x}\)</span> is a vector): <tt class="docutils literal">diagm(x)</tt>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="matrix-operations">
<h3><a class="toc-backref" href="#id22">3.2   Matrix operations</a></h3>
<ul>
<li>
<p class="first"><span class="math">\(\boldsymbol{A}^T\)</span> (transpose): <tt class="docutils literal">A'</tt></p>
</li>
<li>
<p class="first">matrix addition and subtraction: <tt class="docutils literal">+</tt>, <tt class="docutils literal">-</tt></p>
</li>
<li>
<p class="first">matrix-scalar operations <tt class="docutils literal">+</tt>, <tt class="docutils literal">-</tt>, <tt class="docutils literal">*</tt>, <tt class="docutils literal">/</tt> apply elementwise: <tt class="docutils literal">10 * [1 2; 3 4]</tt> gives <tt class="docutils literal">[10 20; 30 40]</tt></p>
</li>
<li>
<p class="first">matrix-vector multiplication <tt class="docutils literal">*</tt></p>
<p>For example, <tt class="docutils literal">[1 2; 3 <span class="pre">4]*[5,</span> 6]</tt>:</p>
<div class="math">
\begin{equation*}
\left(
\begin{array}{cc}
1 &amp; 2\\
3 &amp; 4\\
\end{array}
\right)
\left(
\begin{array}{c}
5\\
6\\
\end{array}
\right)
\end{equation*}
</div>
</li>
<li>
<p class="first"><tt class="docutils literal">*</tt> is also used for matrix-matrix multiplication</p>
</li>
<li>
<p class="first"><tt class="docutils literal">*.</tt> is for matrix-matrix element-wise multiplication</p>
</li>
</ul>
</div>
<div class="section" id="useful-functions">
<h3><a class="toc-backref" href="#id23">3.3   Useful functions</a></h3>
<ul class="simple">
<li>sum of all entries of a matrix: <tt class="docutils literal">sum(A)</tt>
</li>
<li>average of entries of a matrix: <tt class="docutils literal">mean(A)</tt>
</li>
<li>Element-wise <em>max</em> and <em>min</em>: <tt class="docutils literal">max(A, B)</tt>, <tt class="docutils literal">min(A, B)</tt> (the arguments must have the same size unless one is a scalar)</li>
<li>
<tt class="docutils literal"><span class="pre">norm(A[:])</span></tt> or <tt class="docutils literal">vecnorm(A)</tt> means <span class="math">\(\left(\sum_{i,j} A_{i,j}^2\right)^{1/2}\)</span> (Note that <tt class="docutils literal">norm(A)</tt> has a different meaning and do not misuse it)</li>
</ul>
</div>
</div>
<div class="section" id="tricks">
<h2><a class="toc-backref" href="#id24">4   Tricks</a></h2>
<div class="section" id="for-loops">
<h3><a class="toc-backref" href="#id25">4.1   For loops</a></h3>
<ul>
<li>
<p class="first">loop over a <strong>Range</strong></p>
<pre class="code julia"><a name="rest_code_4b6a46fa56ea44b28f44c8c5991bdf63-1"></a><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<a name="rest_code_4b6a46fa56ea44b28f44c8c5991bdf63-2"></a><span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="p">:</span><span class="mi">10</span>
<a name="rest_code_4b6a46fa56ea44b28f44c8c5991bdf63-3"></a>  <span class="n">value</span> <span class="o">+=</span> <span class="n">i</span>
<a name="rest_code_4b6a46fa56ea44b28f44c8c5991bdf63-4"></a><span class="k">end</span>
</pre>
</li>
<li>
<p class="first">loop over a <strong>List</strong></p>
<pre class="code julia"><a name="rest_code_7cd1755d14cb44f0819e877c69b799c7-1"></a><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<a name="rest_code_7cd1755d14cb44f0819e877c69b799c7-2"></a><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<a name="rest_code_7cd1755d14cb44f0819e877c69b799c7-3"></a><span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="n">my_list</span>
<a name="rest_code_7cd1755d14cb44f0819e877c69b799c7-4"></a>  <span class="n">value</span> <span class="o">+=</span> <span class="n">i</span>
<a name="rest_code_7cd1755d14cb44f0819e877c69b799c7-5"></a><span class="k">end</span>
</pre>
</li>
<li>
<p class="first"><tt class="docutils literal">zip</tt>:</p>
<pre class="code julia"><a name="rest_code_90d91a3373ae44b59b1b5282ec5c754b-1"></a><span class="n">countries</span> <span class="o">=</span> <span class="p">(</span><span class="s">"Japan"</span><span class="p">,</span> <span class="s">"Korea"</span><span class="p">,</span> <span class="s">"China"</span><span class="p">)</span>
<a name="rest_code_90d91a3373ae44b59b1b5282ec5c754b-2"></a><span class="n">cities</span> <span class="o">=</span> <span class="p">(</span><span class="s">"Tokyo"</span><span class="p">,</span> <span class="s">"Seoul"</span><span class="p">,</span> <span class="s">"Beijing"</span><span class="p">)</span>
<a name="rest_code_90d91a3373ae44b59b1b5282ec5c754b-3"></a><span class="k">for</span> <span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">city</span><span class="p">)</span> <span class="k">in</span> <span class="n">zip</span><span class="p">(</span><span class="n">countries</span><span class="p">,</span> <span class="n">cities</span><span class="p">)</span>
<a name="rest_code_90d91a3373ae44b59b1b5282ec5c754b-4"></a> <span class="n">println</span><span class="p">(</span><span class="s">"The capital of </span><span class="si">$country</span><span class="s"> is </span><span class="si">$city</span><span class="s">"</span><span class="p">)</span>
<a name="rest_code_90d91a3373ae44b59b1b5282ec5c754b-5"></a><span class="k">end</span>
</pre>
</li>
<li>
<p class="first"><tt class="docutils literal">enumerate</tt>: yields a tuple <tt class="docutils literal">(index, value)</tt></p>
<pre class="code julia"><a name="rest_code_15860c51804a43bbba31dd2537e53f8f-1"></a><span class="n">countries</span> <span class="o">=</span> <span class="p">(</span><span class="s">"Japan"</span><span class="p">,</span> <span class="s">"Korea"</span><span class="p">,</span> <span class="s">"China"</span><span class="p">)</span>
<a name="rest_code_15860c51804a43bbba31dd2537e53f8f-2"></a><span class="n">cities</span> <span class="o">=</span> <span class="p">(</span><span class="s">"Tokyo"</span><span class="p">,</span> <span class="s">"Seoul"</span><span class="p">,</span> <span class="s">"Beijing"</span><span class="p">)</span>
<a name="rest_code_15860c51804a43bbba31dd2537e53f8f-3"></a><span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">country</span><span class="p">)</span> <span class="k">in</span> <span class="n">enumerate</span><span class="p">(</span><span class="n">countries</span><span class="p">)</span>
<a name="rest_code_15860c51804a43bbba31dd2537e53f8f-4"></a>    <span class="n">city</span> <span class="o">=</span> <span class="n">cities</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a name="rest_code_15860c51804a43bbba31dd2537e53f8f-5"></a>    <span class="n">println</span><span class="p">(</span><span class="s">"The capital of </span><span class="si">$country</span><span class="s"> is </span><span class="si">$city</span><span class="s">"</span><span class="p">)</span>
<a name="rest_code_15860c51804a43bbba31dd2537e53f8f-6"></a><span class="k">end</span>
</pre>
</li>
</ul>
</div>
<div class="section" id="initialization">
<h3><a class="toc-backref" href="#id26">4.2   Initialization</a></h3>
<div class="section" id="data-types">
<h4><a class="toc-backref" href="#id27">4.2.1   Data types</a></h4>
<p>List (1D <strong>Array</strong>) and matrix (2D or higher dimensional <strong>Array</strong>) may include entries of different types: <tt class="docutils literal">[1, "2", sin, 3.0]</tt>, <tt class="docutils literal">[1, "2"; sin, 3.0]</tt></p>
<pre class="code jlcon"><a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-1"></a><span class="gp">julia&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s">"2"</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-2"></a><span class="go">4-element Array{Any,1}:</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-3"></a><span class="go"> 1</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-4"></a><span class="go"> "2"</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-5"></a><span class="go"> sin</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-6"></a><span class="go"> 3.0</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-7"></a>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-8"></a><span class="gp">julia&gt;</span> <span class="p">[</span><span class="mi">1</span> <span class="s">"2"</span><span class="p">;</span> <span class="n">sin</span> <span class="mf">3.0</span><span class="p">]</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-9"></a><span class="go">2x2 Array{Any,2}:</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-10"></a><span class="go"> 1      "2"</span>
<a name="rest_code_2a6e2550028e4f2d8332f66f4f175119-11"></a><span class="go"> sin    3.0</span>
</pre>
<p>如果元素类型只有常用的数学类型的时候，会按 <tt class="docutils literal">Int64</tt>, <tt class="docutils literal">Rational{Int64}</tt>, <tt class="docutils literal">Float64</tt> 的顺序进行自动的promotion.
如果元素中有复数，则其余实数类型也会被自动转换为复数，实部和复部类型按之前的顺序自动promotion.</p>
<p>例子如下：</p>
<pre class="code jlcon"><a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-1"></a><span class="gp">julia&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">//</span><span class="mi">4</span><span class="p">]</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-2"></a><span class="go">2-element Array{Rational{Int64},1}:</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-3"></a><span class="go"> 2//1</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-4"></a><span class="go"> 3//4</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-5"></a>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-6"></a><span class="gp">julia&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">//</span><span class="mi">4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-7"></a><span class="go">3-element Array{Float64,1}:</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-8"></a><span class="go"> 2.0</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-9"></a><span class="go"> 0.75</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-10"></a><span class="go"> 0.1</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-11"></a>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-12"></a><span class="gp">julia&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">//</span><span class="mi">4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="nb">im</span><span class="p">]</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-13"></a><span class="go">4-element Array{Complex{Float64},1}:</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-14"></a><span class="go">  2.0+0.0im</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-15"></a><span class="go">  0.75+0.0im</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-16"></a><span class="go">  0.1+0.0im</span>
<a name="rest_code_a6fa4ed1d2df4ba2bd99cab073011d3e-17"></a><span class="go">  1.0+2.0im</span>
</pre>
<p>然而，list 或 matrix 的类型也可以进行明确指定。如：</p>
<pre class="code jlcon"><a name="rest_code_752892d9311541da9ad06cd20c0a7154-1"></a><span class="gp">julia&gt;</span> <span class="kt">Float64</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<a name="rest_code_752892d9311541da9ad06cd20c0a7154-2"></a><span class="go">3-element Array{Float64,1}:</span>
<a name="rest_code_752892d9311541da9ad06cd20c0a7154-3"></a><span class="go"> 1.0</span>
<a name="rest_code_752892d9311541da9ad06cd20c0a7154-4"></a><span class="go"> 2.0</span>
<a name="rest_code_752892d9311541da9ad06cd20c0a7154-5"></a><span class="go"> 3.0</span>
</pre>
</div>
<div class="section" id="empty-array">
<h4><a class="toc-backref" href="#id28">4.2.2   Empty array</a></h4>
<p>Initialize an empty array. List example (1D array):</p>
<pre class="code jlcon"><a name="rest_code_e9875732d80f4f1b99269b616a1e286a-1"></a><span class="gp">julia&gt;</span> <span class="kt">Float64</span><span class="p">[]</span>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-2"></a><span class="go">0-element Array{Float64,1}</span>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-3"></a>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-4"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-5"></a><span class="go">0-element Array{Float64,1}</span>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-6"></a>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-7"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}(</span><span class="mi">0</span><span class="p">)</span>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-8"></a><span class="go">0-element Array{Float64,1}</span>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-9"></a>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-10"></a><span class="gp">julia&gt;</span> <span class="p">[]</span>
<a name="rest_code_e9875732d80f4f1b99269b616a1e286a-11"></a><span class="go">0-element Array{Any,1}</span>
</pre>
<p>Matrix example (2D or higher dimensional array), 初始化某一维度为0:</p>
<pre class="code jlcon"><a name="rest_code_75b9b00f37c44c9284a4977bd36a2661-1"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<a name="rest_code_75b9b00f37c44c9284a4977bd36a2661-2"></a><span class="go">0x2 Array{Float64,2}</span>
<a name="rest_code_75b9b00f37c44c9284a4977bd36a2661-3"></a>
<a name="rest_code_75b9b00f37c44c9284a4977bd36a2661-4"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<a name="rest_code_75b9b00f37c44c9284a4977bd36a2661-5"></a><span class="go">0x2 Array{Float64,2}</span>
</pre>
<p>也可以用 <tt class="docutils literal">reshape</tt> 函数实现同样效果：</p>
<pre class="code jlcon"><a name="rest_code_fc60b2854d0a4eacaf95be47d3615742-1"></a><span class="gp">julia&gt;</span> <span class="n">reshape</span><span class="p">([],</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<a name="rest_code_fc60b2854d0a4eacaf95be47d3615742-2"></a><span class="go">0x2 Array{Any,2}</span>
</pre>
</div>
<div class="section" id="allocate-array-no-initialization">
<h4><a class="toc-backref" href="#id29">4.2.3   Allocate array (no initialization)</a></h4>
<ul>
<li>
<p class="first">List</p>
<p>Allocate a list (1D array), and fill it with random values:</p>
<ul>
<li>
<p class="first">直接使用构造函数 <tt class="docutils literal">Array</tt></p>
<pre class="code jlcon"><a name="rest_code_82c65407758245cab874d5aea5045c56-1"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-2"></a><span class="go">3-element Array{Float64,1}:</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-3"></a><span class="go"> 1.08099e-314</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-4"></a><span class="go"> 1.08097e-314</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-5"></a><span class="go"> 1.08098e-314</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-6"></a>
<a name="rest_code_82c65407758245cab874d5aea5045c56-7"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}(</span><span class="mi">3</span><span class="p">)</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-8"></a><span class="go">3-element Array{Float64,1}:</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-9"></a><span class="go"> 0.0</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-10"></a><span class="go"> 1.061e-314</span>
<a name="rest_code_82c65407758245cab874d5aea5045c56-11"></a><span class="go"> 0.0</span>
</pre>
</li>
<li>
<p class="first">基于另一个 list, 创建与之相同类型的 list, 利用函数 <tt class="docutils literal">similar</tt></p>
<pre class="code jlcon"><a name="rest_code_ff199836f8fc4d33a6b0e7bd5a25b7f1-1"></a><span class="gp">julia&gt;</span> <span class="n">similar</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<a name="rest_code_ff199836f8fc4d33a6b0e7bd5a25b7f1-2"></a><span class="go">3-element Array{Float64,1}:</span>
<a name="rest_code_ff199836f8fc4d33a6b0e7bd5a25b7f1-3"></a><span class="go"> 1.0818e-314</span>
<a name="rest_code_ff199836f8fc4d33a6b0e7bd5a25b7f1-4"></a><span class="go"> 1.08225e-314</span>
<a name="rest_code_ff199836f8fc4d33a6b0e7bd5a25b7f1-5"></a><span class="go"> 1.08853e-314</span>
</pre>
</li>
<li>
<p class="first">如果数据类型为 Any, 则会被填充未知量。</p>
<pre class="code jlcon"><a name="rest_code_f01e2cd290824b96b1c6e76d6ed44993-1"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">{</span><span class="kt">Any</span><span class="p">}(</span><span class="mi">3</span><span class="p">)</span>
<a name="rest_code_f01e2cd290824b96b1c6e76d6ed44993-2"></a><span class="go">3-element Array{Any,1}:</span>
<a name="rest_code_f01e2cd290824b96b1c6e76d6ed44993-3"></a><span class="go"> #undef</span>
<a name="rest_code_f01e2cd290824b96b1c6e76d6ed44993-4"></a><span class="go"> #undef</span>
<a name="rest_code_f01e2cd290824b96b1c6e76d6ed44993-5"></a><span class="go"> #undef</span>
</pre>
<p>当然也等同于使用 <tt class="docutils literal">Array(Any,3)</tt>.</p>
</li>
</ul>
</li>
<li>
<p class="first">Matrix</p>
<ul class="simple">
<li>同理，我们也可以创建一个 2x3 矩阵（元素为随机产生）： <tt class="docutils literal">Array(Float64,2,3)</tt> or <tt class="docutils literal"><span class="pre">Array{Float64}(2,3)</span></tt> or <tt class="docutils literal"><span class="pre">similar([1</span> 2 3; 4 5 6])</tt>
</li>
<li>为方便起见，一维和二维的情况下，Julia提供了两个函数, <tt class="docutils literal">Vector(3)</tt>, <tt class="docutils literal">Matrix(2,3)</tt> 分别相当于 <tt class="docutils literal">Array(Any,3)</tt> 以及 <tt class="docutils literal">Array(Any,2,3)</tt>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="initialize-a-matrix">
<h4><a class="toc-backref" href="#id30">4.2.4   Initialize a matrix</a></h4>
<p>创建一个 2x3 矩阵并赋值，可以用下列方式：</p>
<ol class="arabic">
<li>
<p class="first">按行创建</p>
<pre class="code jlcon"><a name="rest_code_60a1b1319b12452697465afd97f09631-1"></a><span class="gp">julia&gt;</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">]</span>
<a name="rest_code_60a1b1319b12452697465afd97f09631-2"></a><span class="go">2x3 Array{Int64,2}:</span>
<a name="rest_code_60a1b1319b12452697465afd97f09631-3"></a><span class="go"> 1  2  3</span>
<a name="rest_code_60a1b1319b12452697465afd97f09631-4"></a><span class="go"> 4  5  6</span>
</pre>
</li>
<li>
<p class="first">按列创建</p>
<pre class="code jlcon"><a name="rest_code_335a30b3ec6e4517aa3804913ae143e2-1"></a><span class="gp">julia&gt;</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<a name="rest_code_335a30b3ec6e4517aa3804913ae143e2-2"></a><span class="go">2x3 Array{Int64,2}:</span>
<a name="rest_code_335a30b3ec6e4517aa3804913ae143e2-3"></a><span class="go"> 1  2  3</span>
<a name="rest_code_335a30b3ec6e4517aa3804913ae143e2-4"></a><span class="go"> 4  5  6</span>
</pre>
</li>
<li>
<p class="first">由另一个 list 或 matrix 变形而来</p>
<pre class="code jlcon"><a name="rest_code_604e6eeb35594b9aa77543aa6a722481-1"></a><span class="gp">julia&gt;</span> <span class="n">reshape</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a name="rest_code_604e6eeb35594b9aa77543aa6a722481-2"></a><span class="go">2x3 Array{Int64,2}:</span>
<a name="rest_code_604e6eeb35594b9aa77543aa6a722481-3"></a><span class="go"> 1  2  3</span>
<a name="rest_code_604e6eeb35594b9aa77543aa6a722481-4"></a><span class="go"> 4  5  6</span>
</pre>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Julia 是 <strong>列主序</strong> (Column-major)</p>
<ul class="last simple">
<li>Column-major order: Julia, Fortran, R, Matlab, GNU Octave, BLAS, LAPACK, OpenGL/OpenGL ES</li>
<li>Row-major order: C/C++, Mathematica, Pascal, Python, C#/CLI/.Net, Direct3D</li>
</ul>
</div>
<p>由上面 <tt class="docutils literal">reshape</tt> 结果也可以看出 Julia 是列主序(Column-major)的。而高维矩阵也可以看成等效的一维矩阵，
比如 <tt class="docutils literal">A = [1 2 3; 4 5 6]</tt>, 那么 <tt class="docutils literal">A[4]</tt> 等于 <span class="math">\(4\)</span> 而非 <span class="math">\(5\)</span>.
因此也可以使用 <tt class="docutils literal"><span class="pre">A[:]</span></tt> 得到矩阵转换为一维数组的结果。在用多维和一维这两种不同方式表示时，有两个函数很有用：</p>
<ul class="simple">
<li>
<tt class="docutils literal">ind2sub(dims, index)</tt> 求一维数组表示法中的 index 元素在多维表示法中的位置。
如 <tt class="docutils literal"><span class="pre">ind2sub((2,3),</span> 4)</tt> 返回 <tt class="docutils literal">(2,2)</tt>, 意即在一个 <tt class="docutils literal">2x3</tt> 维的矩阵中，位置 <tt class="docutils literal">(2,2)</tt> 对应一维数组中的脚标 <tt class="docutils literal">4</tt>
</li>
<li>
<tt class="docutils literal"><span class="pre">sub2ind((2,3),</span> 2,2)</tt> 返回 <tt class="docutils literal">4</tt>, 表示在 <tt class="docutils literal">2x3</tt> 的矩阵中位置 <tt class="docutils literal">(2,2)</tt> 对应一维数组中的第 <tt class="docutils literal">4</tt> 个位置。</li>
</ul>
</div>
</div>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id31">4.3   Useful functions</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>参考</p>
<ol class="last arabic simple">
<li><a class="reference external" href="http://docs.julialang.org/en/stable/stdlib/arrays/">http://docs.julialang.org/en/stable/stdlib/arrays/</a></li>
<li><a class="reference external" href="http://docs.julialang.org/en/stable/stdlib/collections/">http://docs.julialang.org/en/stable/stdlib/collections/</a></li>
<li><a class="reference external" href="https://en.wikibooks.org/wiki/Introducing_Julia/Arrays_and_tuples">https://en.wikibooks.org/wiki/Introducing_Julia/Arrays_and_tuples</a></li>
</ol>
</div>
<div class="section" id="id4">
<h4><a class="toc-backref" href="#id32">4.3.1   基本信息</a></h4>
<p>以 <tt class="docutils literal">exampleArray = [1 2 3; 4 5 6; 7 8 9]</tt> 为例：</p>
<ul class="simple">
<li>
<tt class="docutils literal">ndims(exampleArray)</tt> 返回维度 <tt class="docutils literal">2</tt>
</li>
<li>
<tt class="docutils literal">size(exampleArray)</tt> 返回各维大小 <tt class="docutils literal">(3,3)</tt>
</li>
<li>
<tt class="docutils literal">length(exampleArray)</tt> 返回总元素数量 <tt class="docutils literal">9</tt>
</li>
</ul>
</div>
<div class="section" id="id5">
<h4><a class="toc-backref" href="#id33">4.3.2   最大(小)值，以及求和</a></h4>
<ul class="simple">
<li>
<tt class="docutils literal">maximum</tt>, <tt class="docutils literal">minimum</tt> 求list或矩阵(及其某一维度上)的最大值和最小值</li>
<li>
<tt class="docutils literal">maxabs</tt>, <tt class="docutils literal">minabs</tt>, 绝对值的最大(小)值</li>
<li>
<tt class="docutils literal">findmax</tt>, <tt class="docutils literal">findmin</tt> 会返回一个tuple，<tt class="docutils literal">(value, index)</tt>，即包括最大（小）值及其位置</li>
<li>
<tt class="docutils literal">sum</tt>, 求和</li>
<li>
<tt class="docutils literal">sumabs</tt>, 求绝对值之和</li>
<li>
<tt class="docutils literal">sumabs2</tt>, 求平方和，等同于 <tt class="docutils literal">sum(abs2(itr))</tt>
</li>
</ul>
</div>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id34">4.3.3   查找，筛选</a></h4>
<ul>
<li>
<p class="first"><tt class="docutils literal">in</tt> 判断元素是否属于某array，如 <tt class="docutils literal">in(3, 1:10)</tt> 会返回 <tt class="docutils literal">true</tt></p>
</li>
<li>
<p class="first"><tt class="docutils literal">count(predicate, A)</tt> 返回所有满足 <tt class="docutils literal">predicate</tt> 的元素数量. 如 <tt class="docutils literal">count(isodd, exampleArray)</tt> 返回 <tt class="docutils literal">5</tt>.</p>
</li>
<li>
<p class="first"><tt class="docutils literal">find(predicate, A)</tt> Return a vector of the linear indexes of <tt class="docutils literal">A</tt> where <tt class="docutils literal">predicate</tt> returns <tt class="docutils literal">true</tt>.</p>
<pre class="code jlcon"><a name="rest_code_6f438d219dd04e59932151de0834f090-1"></a><span class="gp">julia&gt;</span> <span class="n">find</span><span class="p">(</span><span class="n">iseven</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span>
<a name="rest_code_6f438d219dd04e59932151de0834f090-2"></a><span class="go">5-element Array{Int64,1}:</span>
<a name="rest_code_6f438d219dd04e59932151de0834f090-3"></a><span class="go">2</span>
<a name="rest_code_6f438d219dd04e59932151de0834f090-4"></a><span class="go">4</span>
<a name="rest_code_6f438d219dd04e59932151de0834f090-5"></a><span class="go">6</span>
<a name="rest_code_6f438d219dd04e59932151de0834f090-6"></a><span class="go">8</span>
<a name="rest_code_6f438d219dd04e59932151de0834f090-7"></a><span class="go">10</span>
</pre>
<p>如果找不到，则会返回 <tt class="docutils literal">0</tt>. 常用的内置判断函数有 <tt class="docutils literal">iseven</tt>, <tt class="docutils literal">isodd</tt>, <tt class="docutils literal">isinteger</tt>, <tt class="docutils literal">isreal</tt>, <tt class="docutils literal">isprime</tt>, 还可以用 lambda 表达式自定义函数。</p>
</li>
<li>
<p class="first"><tt class="docutils literal">findfirst</tt> 常用用法 (<tt class="docutils literal">findlast</tt> 用法类似)：</p>
<ul class="simple">
<li>
<tt class="docutils literal">findfirst(A)</tt> Return the index of the first non-zero value in <tt class="docutils literal">A</tt> (determined by <tt class="docutils literal"><span class="pre">A[i]!=0</span></tt>).</li>
<li>
<tt class="docutils literal">findfirst(A,v)</tt> Return the index of the first element equal to <tt class="docutils literal">v</tt> in <tt class="docutils literal">A</tt>. 如 <tt class="docutils literal">findfirst(2:2:10, 6)</tt> 返回 <tt class="docutils literal">3</tt>.</li>
<li>
<tt class="docutils literal">findfirst(predicate, A)</tt> Return the index of the first element of <tt class="docutils literal">A</tt> for which predicate returns <tt class="docutils literal">true</tt>. 如 <tt class="docutils literal">findfirst(isprime, 0:10)</tt> 返回 <tt class="docutils literal">3</tt>.</li>
</ul>
</li>
<li>
<p class="first"><tt class="docutils literal">findnext</tt> 与 <tt class="docutils literal">findfirst</tt> 相似，但提供一个额外的参数表示搜索开始位置。所以 <tt class="docutils literal">findfirst(predicate, A)</tt> 相当于 <tt class="docutils literal">findnext(predicate, A, 1)</tt></p>
<p>还有一个相似的函数 <tt class="docutils literal">findprev</tt>.</p>
<p>注意，<tt class="docutils literal">find</tt>, <tt class="docutils literal">findfirst</tt>, <tt class="docutils literal">findlast</tt> 返回的值都是 index，因此想要拿到对应的值就应该用 <tt class="docutils literal">A[findfirst(predicate,A)]</tt> 类似的形式。</p>
</li>
<li>
<p class="first"><tt class="docutils literal">filter</tt> 与 <tt class="docutils literal">find</tt> 作用相似，不同点是 <tt class="docutils literal">filter</tt> 直接返回的是元素值而 <tt class="docutils literal">find</tt> 返回的是对应的脚标。同时 <tt class="docutils literal">filter!</tt> 可以直接将原来的array改变，只保留满足条件的值。</p>
</li>
<li>
<p class="first">使用 broadcasting 与 indexing. 如 <tt class="docutils literal"><span class="pre">A[A.&gt;4]</span></tt> 与 <tt class="docutils literal"><span class="pre">filter(x-&gt;x&gt;4,</span> A)</tt> 作用相同; <tt class="docutils literal"><span class="pre">A[isodd.(A)]</span></tt> 与 <tt class="docutils literal">filter(isodd, A)</tt> 作用相同 (<tt class="docutils literal"><span class="pre">isodd.(A)</span></tt> 这种写法仅Julia 0.5版本之后支持).
注意，<tt class="docutils literal"><span class="pre">A[A%3.==0]</span></tt> 是正确写法而 <tt class="docutils literal"><span class="pre">A[A.%3==0]</span></tt> 是不正确的。(实践发现当 <tt class="docutils literal">A</tt> 元素比较多时，0.4版本这种方式比 <tt class="docutils literal">filter</tt> 要更快一些。但在另一机器上0.5版本测试结果各有胜负)</p>
</li>
<li>
<p class="first"><tt class="docutils literal">any(predicate, A)</tt>: 只要 <tt class="docutils literal">A</tt> 中存在一个元素满足条件就返回 <tt class="docutils literal">true</tt></p>
</li>
<li>
<p class="first"><tt class="docutils literal">all(predicate, A)</tt>: 只有 <tt class="docutils literal">A</tt> 中所有元素都满足条件就返回 <tt class="docutils literal">true</tt></p>
</li>
</ul>
</div>
<div class="section" id="id7">
<h4><a class="toc-backref" href="#id35">4.3.4   删除行或列</a></h4>
<p>假设一个 3x3 的矩阵 <tt class="docutils literal">A</tt>, 我们要删除其第二行变成一个 2x3 矩阵。在Julia中，没有办法直接删除元素来改变原矩阵内容，即 <tt class="docutils literal"><span class="pre">A[2,:]=[]</span></tt> 类似这样的做法是无效的。
因此我们只能复制原矩阵中部分值赋值给新的矩阵。使用之前提到的用 predicate 函数来indexing的方法，取出剩余部分赋值给新的矩阵 <tt class="docutils literal">B</tt>.
即 <tt class="docutils literal"><span class="pre">B=A[1:end.!=2,:]</span></tt></p>
</div>
<div class="section" id="joining-arrays-and-matrices">
<h4><a class="toc-backref" href="#id36">4.3.5   Joining arrays and matrices</a></h4>
<ul class="simple">
<li>
<tt class="docutils literal">[A B]</tt> or <tt class="docutils literal">hcat(A, B)</tt>
</li>
<li>
<tt class="docutils literal">[A; B]</tt> or <tt class="docutils literal">vcat(A, B)</tt>
</li>
<li><tt class="docutils literal">[A B; C D]</tt></li>
<li>
<tt class="docutils literal">vec(A)</tt> 把 <tt class="docutils literal">A</tt> 变成一维数组</li>
</ul>
</div>
</div>
<div class="section" id="array-of-arrays">
<h3><a class="toc-backref" href="#id37">4.4   Array of arrays</a></h3>
<ul>
<li>
<p class="first">基本例子：</p>
<pre class="code jlcon"><a name="rest_code_684066cfb97e469d93d142846a4ad65e-1"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-2"></a><span class="go">2-element Array{Array{T,N},1}:</span>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-3"></a><span class="go"> [1,2,3]</span>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-4"></a><span class="go"> [4,5,6]</span>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-5"></a>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-6"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-7"></a><span class="go">2-element Array{Array{T,N},1}:</span>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-8"></a><span class="go"> [1,2]</span>
<a name="rest_code_684066cfb97e469d93d142846a4ad65e-9"></a><span class="go"> [3,4]</span>
</pre>
</li>
<li>
<p class="first">Create an empty array of arrays:</p>
<pre class="code jlcon"><a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-1"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">{</span><span class="kt">Int</span><span class="p">}[]</span>
<a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-2"></a><span class="go">0-element Array{Array{Int64,N},1}</span>
<a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-3"></a>
<a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-4"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">{</span><span class="kt">Int</span><span class="p">,</span> <span class="mi">2</span><span class="p">}[]</span>
<a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-5"></a><span class="go">0-element Array{Array{Int64,2},1}</span>
<a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-6"></a>
<a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-7"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">(</span><span class="n">Array</span><span class="p">{</span><span class="kt">Float64</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span><span class="mi">0</span><span class="p">)</span>
<a name="rest_code_903ff8d8f5b1443fb4f4dd7dba672a11-8"></a><span class="go">0-element Array{Array{Float64,3},1}</span>
</pre>
</li>
<li>
<p class="first">Create by specifying the size:</p>
<pre class="code jlcon"><a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-1"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">(</span><span class="n">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span><span class="mi">3</span><span class="p">)</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-2"></a><span class="go">3-element Array{Array{Int64,2},1}:</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-3"></a><span class="go"> #undef</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-4"></a><span class="go"> #undef</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-5"></a><span class="go"> #undef</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-6"></a>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-7"></a><span class="gp">julia&gt;</span> <span class="n">Array</span><span class="p">{</span><span class="n">Array</span><span class="p">{</span><span class="kt">Int64</span><span class="p">,</span> <span class="mi">2</span><span class="p">}}(</span><span class="mi">3</span><span class="p">)</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-8"></a><span class="go">3-element Array{Array{Int64,2},1}:</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-9"></a><span class="go"> #undef</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-10"></a><span class="go"> #undef</span>
<a name="rest_code_6c4d7e8c625242b089bd5c9d442b89e0-11"></a><span class="go"> #undef</span>
</pre>
</li>
<li>
<p class="first">Use <tt class="docutils literal">hcat()</tt> or <tt class="docutils literal">vcat()</tt> to convert an array to a matrix (Refer to <a class="reference external" href="http://docs.julialang.org/en/stable/manual/faq/#what-does-the-operator-do">slurping and splatting</a>)</p>
<pre class="code jlcon"><a name="rest_code_a4adb55752b644fdba143f06b7172f28-1"></a><span class="gp">julia&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-2"></a><span class="go">3-element Array{Array{T,N},1}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-3"></a><span class="go"> [1,2]</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-4"></a><span class="go"> [3,4]</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-5"></a><span class="go"> [5,6]</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-6"></a>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-7"></a><span class="gp">julia&gt;</span> <span class="n">hcat</span><span class="p">(</span><span class="n">a</span><span class="o">...</span><span class="p">)</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-8"></a><span class="go">2x3 Array{Int64,2}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-9"></a><span class="go"> 1  3  5</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-10"></a><span class="go"> 2  4  6</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-11"></a>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-12"></a><span class="gp">julia&gt;</span> <span class="n">vcat</span><span class="p">(</span><span class="n">a</span><span class="o">...</span><span class="p">)</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-13"></a><span class="go">6-element Array{Int64,1}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-14"></a><span class="go"> 1</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-15"></a><span class="go"> 2</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-16"></a><span class="go"> 3</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-17"></a><span class="go"> 4</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-18"></a><span class="go"> 5</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-19"></a><span class="go"> 6</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-20"></a>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-21"></a><span class="gp">julia&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[[</span><span class="mi">1</span> <span class="mi">2</span><span class="p">],[</span><span class="mi">3</span> <span class="mi">4</span><span class="p">],[</span><span class="mi">5</span> <span class="mi">6</span><span class="p">]]</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-22"></a><span class="go">3-element Array{Array{T,N},1}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-23"></a><span class="go"> 1x2 Array{Int64,2}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-24"></a><span class="go"> 1  2</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-25"></a><span class="go"> 1x2 Array{Int64,2}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-26"></a><span class="go"> 3  4</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-27"></a><span class="go"> 1x2 Array{Int64,2}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-28"></a><span class="go"> 5  6</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-29"></a>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-30"></a><span class="gp">julia&gt;</span> <span class="n">vcat</span><span class="p">(</span><span class="n">b</span><span class="o">...</span><span class="p">)</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-31"></a><span class="go">3x2 Array{Int64,2}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-32"></a><span class="go"> 1  2</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-33"></a><span class="go"> 3  4</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-34"></a><span class="go"> 5  6</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-35"></a>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-36"></a><span class="gp">julia&gt;</span> <span class="n">hcat</span><span class="p">(</span><span class="n">b</span><span class="o">...</span><span class="p">)</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-37"></a><span class="go">1x6 Array{Int64,2}:</span>
<a name="rest_code_a4adb55752b644fdba143f06b7172f28-38"></a><span class="go"> 1  2  3  4  5  6</span>
</pre>
</li>
</ul>
</div>
</div>
<div class="section" id="performance">
<h2><a class="toc-backref" href="#id38">5   Performance</a></h2>
<p>参考 <a class="reference external" href="https://www.reddit.com/r/Julia/comments/3vhv8l/neat_little_speed_comparison_between_forloops_and/">Reddit Link</a> 中的写法
以及 <a class="reference external" href="http://docs.julialang.org/en/stable/manual/performance-tips/">Performance Tips</a>, 在比较运行效率时，最好把例子都写进同一个函数。</p>
<div class="section" id="list-comprehension-vs-for-loop-vs-map">
<h3><a class="toc-backref" href="#id39">5.1   List comprehension vs <tt class="docutils literal">for</tt> loop vs <tt class="docutils literal">map</tt></a></h3>
<pre class="code julia"><a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-1"></a><span class="k">function</span><span class="nf"> test_loop</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-2"></a>    <span class="n">atest</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-3"></a>    <span class="n">btest</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">30000</span><span class="p">)</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-4"></a>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-5"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-6"></a>    <span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="n">count</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span> <span class="n">v</span> <span class="o">&gt;=</span><span class="n">x</span><span class="p">,</span> <span class="n">atest</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="k">in</span> <span class="n">btest</span><span class="p">]</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-7"></a>    <span class="n">list_untyped</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-8"></a>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-9"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-10"></a>    <span class="n">list2</span> <span class="o">=</span> <span class="kt">Int64</span><span class="p">[</span><span class="n">count</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span> <span class="n">v</span> <span class="o">&gt;=</span><span class="n">x</span><span class="p">,</span> <span class="n">atest</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="k">in</span> <span class="n">btest</span><span class="p">]</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-11"></a>    <span class="n">list_typed</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-12"></a>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-13"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-14"></a>    <span class="n">len</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">btest</span><span class="p">)</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-15"></a>    <span class="n">list3</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="kt">Int64</span><span class="p">,</span> <span class="n">len</span><span class="p">)</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-16"></a>    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="p">:</span><span class="n">len</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-17"></a>        <span class="n">list3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">count</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span> <span class="n">btest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span><span class="n">x</span><span class="p">,</span> <span class="n">atest</span><span class="p">)</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-18"></a>    <span class="k">end</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-19"></a>    <span class="n">forloop</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-20"></a>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-21"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-22"></a>    <span class="n">list4</span> <span class="o">=</span> <span class="n">map</span><span class="p">(</span><span class="n">v</span><span class="o">-&gt;</span><span class="n">count</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span> <span class="n">v</span> <span class="o">&gt;=</span><span class="n">x</span><span class="p">,</span> <span class="n">atest</span><span class="p">),</span> <span class="n">btest</span><span class="p">)</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-23"></a>    <span class="n">mapfun</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-24"></a>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-25"></a>    <span class="n">print</span><span class="p">(</span><span class="s">"</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-26"></a><span class="s">    list_untyped: </span><span class="si">$list_untyped</span><span class="s"></span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-27"></a><span class="s">    list_typed: </span><span class="si">$list_typed</span><span class="s"></span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-28"></a><span class="s">    forloop: </span><span class="si">$forloop</span><span class="s"></span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-29"></a><span class="s">    mapfun: </span><span class="si">$mapfun</span><span class="s"></span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-30"></a><span class="s">    "</span><span class="p">)</span>
<a name="rest_code_07696f3c95cc44ca93d95a245bf6b439-31"></a><span class="k">end</span>
</pre>
<p>下面是 Julia 0.4.7 运行第二次的结果（第一次结果未编绎不准确，故不能用作标准）, 0.5 版本结果一致。因此这种情况下 <tt class="docutils literal">map</tt> 要稍快一些。</p>
<pre class="code jlcon"><a name="rest_code_3b082aba6016448b9a03597607ef2036-1"></a><span class="gp">julia&gt;</span> <span class="n">test_loop</span><span class="p">()</span>
<a name="rest_code_3b082aba6016448b9a03597607ef2036-2"></a>
<a name="rest_code_3b082aba6016448b9a03597607ef2036-3"></a><span class="go">  list_untyped: 0.848853296</span>
<a name="rest_code_3b082aba6016448b9a03597607ef2036-4"></a><span class="go">  list_typed: 0.875462525</span>
<a name="rest_code_3b082aba6016448b9a03597607ef2036-5"></a><span class="go">  forloop: 1.561129306</span>
<a name="rest_code_3b082aba6016448b9a03597607ef2036-6"></a><span class="go">  mapfun: 0.836571566</span>
</pre>
</div>
<div class="section" id="findlast-faster-than-count">
<h3><a class="toc-backref" href="#id40">5.2   <tt class="docutils literal">findlast</tt> faster than <tt class="docutils literal">count</tt></a></h3>
<p>例子：两个 array (大小可能不同), <tt class="docutils literal">A</tt> 和 <tt class="docutils literal">B</tt>, 现在需要找出 <tt class="docutils literal">B</tt> 中每个元素落在 <tt class="docutils literal">A</tt> 的哪个区间，比如 <tt class="docutils literal">A = [1,3,5,7]</tt>, <tt class="docutils literal">B = [1.2,5.5]</tt>,
则会返回 <tt class="docutils literal">B</tt> 中每个元素在 <tt class="docutils literal">A</tt> 中的相应位置 <tt class="docutils literal">1</tt> (即 <tt class="docutils literal">1.2</tt> 属于区间 <tt class="docutils literal">[1,3]</tt>) 和 <tt class="docutils literal">3</tt> (<tt class="docutils literal">5.5</tt> 属于区间 <tt class="docutils literal">[5,7]</tt>). Mathematica 中可以使用 <tt class="docutils literal">LengthWhile</tt> 来做，
Julia 中有两个函数可以完成: <tt class="docutils literal">findlast</tt> (定义在 "array.jl" 中) 与 <tt class="docutils literal">count</tt> (定义在 "reduce.jl" 中)，而经多次测试，前者更快且使用的内存更少。</p>
<pre class="code julia"><a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-1"></a><span class="k">function</span><span class="nf"> test_findlast_count</span><span class="p">()</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-2"></a>    <span class="n">atest</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-3"></a>    <span class="n">btest</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">30000</span><span class="p">)</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-4"></a>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-5"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-6"></a>    <span class="n">list1</span> <span class="o">=</span> <span class="kt">Int64</span><span class="p">[</span><span class="n">findlast</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span> <span class="n">v</span> <span class="o">&gt;=</span><span class="n">x</span><span class="p">,</span> <span class="n">atest</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="k">in</span> <span class="n">btest</span><span class="p">]</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-7"></a>    <span class="n">findlast_time</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-8"></a>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-9"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-10"></a>    <span class="n">list2</span> <span class="o">=</span> <span class="kt">Int64</span><span class="p">[</span><span class="n">count</span><span class="p">(</span><span class="n">x</span><span class="o">-&gt;</span> <span class="n">v</span> <span class="o">&gt;=</span><span class="n">x</span><span class="p">,</span> <span class="n">atest</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="k">in</span> <span class="n">btest</span><span class="p">]</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-11"></a>    <span class="n">count_time</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-12"></a>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-13"></a>    <span class="n">print</span><span class="p">(</span><span class="s">"</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-14"></a><span class="s">    findlast_time: </span><span class="si">$findlast_time</span><span class="s"></span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-15"></a><span class="s">    count_time: </span><span class="si">$count_time</span><span class="s"></span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-16"></a><span class="s">    "</span><span class="p">)</span>
<a name="rest_code_5c4bbb2728b1417293a4cf88eac61ebd-17"></a><span class="k">end</span>
</pre>
<pre class="code jlcon"><a name="rest_code_caba6f86e0544b99b70c3ae5ec76dc26-1"></a><span class="gp">julia&gt;</span> <span class="n">test_findlast_count</span><span class="p">()</span>
<a name="rest_code_caba6f86e0544b99b70c3ae5ec76dc26-2"></a>
<a name="rest_code_caba6f86e0544b99b70c3ae5ec76dc26-3"></a><span class="go">  findlast_time: 0.002317571</span>
<a name="rest_code_caba6f86e0544b99b70c3ae5ec76dc26-4"></a><span class="go">  count_time: 0.866425052</span>
</pre>
</div>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id41">5.3   关于求最值</a></h3>
<ul>
<li>
<p class="first">single array: <tt class="docutils literal">for</tt> loop vs <tt class="docutils literal">maximum</tt></p>
<p><tt class="docutils literal">maximum()</tt> is faster.</p>
<pre class="code julia"><a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-1"></a><span class="k">function</span><span class="nf"> test_singarray_max</span><span class="p">()</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-2"></a>    <span class="n">arr</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">100000000</span><span class="p">)</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-3"></a>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-4"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-5"></a>    <span class="n">max_arr</span> <span class="o">=</span> <span class="mf">0.0</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-6"></a>    <span class="k">for</span> <span class="n">x</span> <span class="k">in</span> <span class="n">arr</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-7"></a>        <span class="k">if</span> <span class="n">max_arr</span> <span class="o">&lt;</span> <span class="n">x</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-8"></a>            <span class="n">max_arr</span> <span class="o">=</span> <span class="n">x</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-9"></a>        <span class="k">end</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-10"></a>    <span class="k">end</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-11"></a>    <span class="n">single_array_forloop</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-12"></a>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-13"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-14"></a>    <span class="n">max_arr2</span> <span class="o">=</span> <span class="n">maximum</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-15"></a>    <span class="n">single_array_maximum</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-16"></a>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-17"></a>    <span class="n">print</span><span class="p">(</span><span class="s">"</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-18"></a><span class="s">    single_array_forloop: </span><span class="si">$single_array_forloop</span><span class="s"></span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-19"></a><span class="s">    single_array_maximum: </span><span class="si">$single_array_maximum</span><span class="s"></span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-20"></a><span class="s">    "</span><span class="p">)</span>
<a name="rest_code_2f7ed1d255e74b5894ed366f680b3964-21"></a><span class="k">end</span>
</pre>
<pre class="code jlcon"><a name="rest_code_a10d134d89af4d90a31ef7c40f1b6544-1"></a><span class="gp">julia&gt;</span> <span class="n">test_singarray_max</span><span class="p">()</span>
<a name="rest_code_a10d134d89af4d90a31ef7c40f1b6544-2"></a>
<a name="rest_code_a10d134d89af4d90a31ef7c40f1b6544-3"></a><span class="go">  single_array_forloop: 0.177215175</span>
<a name="rest_code_a10d134d89af4d90a31ef7c40f1b6544-4"></a><span class="go">  single_array_maximum: 0.077552238</span>
</pre>
</li>
<li>
<p class="first">multiple arrays: different versions of <tt class="docutils literal">for</tt> loop vs <tt class="docutils literal">maximum</tt></p>
<p><tt class="docutils literal">for</tt> loop using indexing is the fatest.</p>
<pre class="code julia"><a name="rest_code_6c36712c235f434c89b3768e9254773a-1"></a><span class="k">function</span><span class="nf"> test_multiarray_max</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-2"></a>    <span class="n">arr1</span><span class="o">=</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000000</span><span class="p">)</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-3"></a>    <span class="n">arr2</span><span class="o">=</span><span class="n">rand</span><span class="p">(</span><span class="mi">100000000</span><span class="p">)</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-4"></a>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-5"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-6"></a>    <span class="n">max_arr</span> <span class="o">=</span> <span class="mf">0.0</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-7"></a>    <span class="k">for</span> <span class="n">x</span> <span class="k">in</span> <span class="n">arr1</span><span class="o">-</span><span class="n">arr2</span> <span class="c"># a temporary array arr1-arr2 is generated here</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-8"></a>        <span class="k">if</span> <span class="n">max_arr</span> <span class="o">&lt;</span> <span class="n">x</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-9"></a>            <span class="n">max_arr</span> <span class="o">=</span> <span class="n">x</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-10"></a>        <span class="k">end</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-11"></a>    <span class="k">end</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-12"></a>    <span class="n">multiarray_forloop_temp</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-13"></a>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-14"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-15"></a>    <span class="n">max_arr</span> <span class="o">=</span> <span class="mf">0.0</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-16"></a>    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="p">:</span><span class="n">length</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-17"></a>        <span class="n">temp</span> <span class="o">=</span> <span class="n">arr1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">arr2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-18"></a>        <span class="k">if</span> <span class="n">max_arr</span> <span class="o">&lt;</span> <span class="n">temp</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-19"></a>            <span class="n">max_arr</span> <span class="o">=</span> <span class="n">temp</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-20"></a>        <span class="k">end</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-21"></a>    <span class="k">end</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-22"></a>    <span class="n">multiarray_forloop_index</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-23"></a>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-24"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-25"></a>    <span class="n">max_arr</span> <span class="o">=</span> <span class="mf">0.0</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-26"></a>    <span class="k">for</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">in</span> <span class="n">zip</span><span class="p">(</span><span class="n">arr1</span><span class="p">,</span><span class="n">arr2</span><span class="p">)</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-27"></a>        <span class="n">temp</span> <span class="o">=</span> <span class="n">a</span><span class="o">-</span><span class="n">b</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-28"></a>        <span class="k">if</span> <span class="n">max_arr</span> <span class="o">&lt;</span> <span class="n">temp</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-29"></a>            <span class="n">max_arr</span> <span class="o">=</span> <span class="n">temp</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-30"></a>        <span class="k">end</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-31"></a>    <span class="k">end</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-32"></a>    <span class="n">multiarray_forloop_zip</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-33"></a>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-34"></a>    <span class="n">tic</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-35"></a>    <span class="n">list</span> <span class="o">=</span> <span class="n">maximum</span><span class="p">(</span><span class="n">arr1</span><span class="o">-</span><span class="n">arr2</span><span class="p">)</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-36"></a>    <span class="n">multiarray_maximum</span> <span class="o">=</span> <span class="n">toq</span><span class="p">()</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-37"></a>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-38"></a>    <span class="n">print</span><span class="p">(</span><span class="s">"</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-39"></a><span class="s">    multiarray_forloop_temp: </span><span class="si">$multiarray_forloop_temp</span><span class="s"></span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-40"></a><span class="s">    multiarray_forloop_index: </span><span class="si">$multiarray_forloop_index</span><span class="s"></span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-41"></a><span class="s">    multiarray_forloop_zip: </span><span class="si">$multiarray_forloop_zip</span><span class="s"></span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-42"></a><span class="s">    multiarray_maximum: </span><span class="si">$multiarray_maximum</span><span class="s"></span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-43"></a><span class="s">    "</span><span class="p">)</span>
<a name="rest_code_6c36712c235f434c89b3768e9254773a-44"></a><span class="k">end</span>
</pre>
<pre class="code jlcon"><a name="rest_code_66edcd4200ef40dabf46541bdc91f51d-1"></a><span class="gp">julia&gt;</span> <span class="n">test_multiarray_max</span><span class="p">()</span>
<a name="rest_code_66edcd4200ef40dabf46541bdc91f51d-2"></a>
<a name="rest_code_66edcd4200ef40dabf46541bdc91f51d-3"></a><span class="go">  multiarray_forloop_temp: 0.434184324</span>
<a name="rest_code_66edcd4200ef40dabf46541bdc91f51d-4"></a><span class="go">  multiarray_forloop_index: 0.161199946</span>
<a name="rest_code_66edcd4200ef40dabf46541bdc91f51d-5"></a><span class="go">  multiarray_forloop_zip: 0.206321564</span>
<a name="rest_code_66edcd4200ef40dabf46541bdc91f51d-6"></a><span class="go">  multiarray_maximum: 0.446215882</span>
</pre>
</li>
</ul>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/julia/" rel="tag">julia</a></li>
            <li><a class="tag p-category" href="../../categories/tutorial/" rel="tag">tutorial</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../reStructuredText-notes/" rel="prev" title="reStructuredText Notes">Previous post</a>
            </li>
            <li class="next">
                <a href="../julia-packages/" rel="next" title="Julia Packages">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="yongchen",
            disqus_url="http://yongchen.org/posts/julia-for-matrix-methods/",
        disqus_title="Julia for Matrix Methods",
        disqus_identifier="cache/posts/julia-for-matrix-methods.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
            </script></article><script>var disqus_shortname="yongchen";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2017         <a href="mailto:ob@outlook.sg">Yong Chen</a>
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
